# ttc

`ttc` is a unix command line tool to counts the number of tokens for AI models.

## Dependency

- [tiktoken-rs](https://github.com/zurawiki/tiktoken-rs)

## Supported Encodings

| Encoding name           | OpenAI models                                                             |
| ----------------------- | ------------------------------------------------------------------------- |
| `o200k_base`            | GPT-4o models                                                             |
| `cl100k_base`           | ChatGPT models, `text-embedding-ada-002`                                  |
| `p50k_base`             | Code models, `text-davinci-002`, `text-davinci-003`                       |
| `p50k_edit`             | Use for edit models like `text-davinci-edit-001`, `code-davinci-edit-001` |
| `r50k_base` (or `gpt2`) | GPT-3 models like `davinci`                                               |

## Installation

First, you need to install Rust. See the [official documentation](https://www.rust-lang.org/tools/install) for details.

Then, build `ttc` using the following command:

```sh
cargo build --release
```

Copy the output executable (`target/release/ttc`) to a directory that is in your PATH.

Alternatively, you can install it directly using:

```sh
cargo install --git https://github.com/kojix2/ttc/
```

## Usage

To count tokens in multiple files, use:

```sh
ttc [FILE]...
```

To count tokens from the standard input:

```sh
ttc < [FILE]
```

or

```sh
[command] | ttc
```

### Examples

Count tokens in multiple files:

```sh
git ls-files | xargs ttc
     178 .github/workflows/ci.yml
       2 .gitignore
    4841 Cargo.lock
      72 Cargo.toml
     201 LICENSE
     528 README.md
     762 src/main.rs
    6584 total
```

Count tokens from standard input:

```sh
ttc < README.md
     548 README.md
```

## Options

- `--encoding` / `-e`: Specify the encoding model to use for tokenization. The default is `cl100k_base`. Available options are `o200k_base`, `p50k_base`, `p50k_edit`, `r50k_base`.

## License

The code for this tool was generated by ChatGPT. OpenAI permits the code generated by ChatGPT to be released under the MIT License. For more details, please refer to the [terms of use](https://openai.com/policies/terms-of-use).
